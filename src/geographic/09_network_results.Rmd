---
title: "09 Network Results"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
rm(list = ls())

# load packages
for (pkg in c("tidyverse", "data.table", "R.utils", "RPostgreSQL", "cowplot", "maditr", "stringr", "stringi",  "dplyr", "leaflet", "leaflet.extras")) {library(pkg, character.only = TRUE)}
```



### Network
As we saw previously, the GitHub users in the U.S. is nearly four times as much as those in China, which is the second largest country for GitHub users. We want to further understand the U.S. centered collaboration networkand to understand open source software collaboration tendency. Previously, Kramer et al (2020) has studied the country-level open-source collaboration network on GitHub, and identified users in the U.S. have higher impact on the global collaboration. After constucting city code in this summer project, we want to take a closer look at the open-source collaboration network at the city level. Specifically, we want to investigate what cities in the U.S. have higher impact of the global network and serve as an influential collaborator of the open-source software development. 

In this network, the nodes include:
* all the cities in the U.S. that have at least one GitHub user
* cities outside of the U.S. that have collaboration with any of the city in the U.S. 

In our network analysis, 3,933 cities are included that spanned 18 countries. In the U.S. network, we identified 2,663 cities. 

We say that there is a collaboration between two Github users if they are listed as contributors in one licensesd repository. An edge in our network is defined as a collaboration between two GitHub users who are located in two different cities. We then define this as a collaboration between two cities. 


Before introducing our network, we would like to introduce some network statistics in the GitHub collaboration setting:

* Degree: the number of cities one city collaborates with.
* Weighted degree: the sum of weights of the edges of nodes.
* Betweeness centrality: calculated by the number of times a city lies on the shortest path between each pair of cities, which identifies the cities that are bridge of two communities.
* Modularity: measure the strength of division of a network into communities, which is used to identify communities. 

In total, we identified 2933 cities as shown in the following figure. A city is indicated as a circle, orange circles represent cities in the U.S. and dark blue circles represent cities in Canada. The node size is indicated by the degree, larger the degree, larger the node size. The cities in the center of this network have tendency of building more collabortions. 


### Complete GitHub User Network on The City-level

<center>

![alt text here](/sfs/qumulo/qhome/zz3hs/git/dspg20oss/src/geographic/output/network1.png)

<\center>


To have a closer look of our network, we first identified 1151 (42.07%) cities within the major community using the modularity score, and then we excluded cities with betweenness centrality less than... The size of the circles indicates weighted degree, larger the circle size, higher the weighted degree. A city with a high weighted degree indicates that this city has a lot of direct collaborations with other cities. These cities are identified as influential locally. As shown in Figure 2, San Francisco, New York, Seattle, and Mountain View are the most influential cities locally, having high weighted degrees.

Meanwhile, we use color gradient of the circle to indicate the betweenness centrality, lighter the color, higher the betweenness centrality score. A node with high betweenness centrality score are more important to serve as the bridge between two communities in the network. Different from the weighted degree, betweenness centrality identifies cities are influential in the whole network globally. San Francisco, New York, and Seattle are the most influential cities locally (indicated by weighted degree) and globally (indicated by betweeness centrality). However, Mountain View having darker blue (lower betweeness centraily) but larger size (higher weighted degree) than Portland, Boston, Austin, Chicago and Los Angeles, exhibits a localized collabortions in Mountain View. As a contrast, Portland, Boston, Austin, Chicago and Los Angeles have more globalized collaborations, serve higher influential roles in the whole network.

![alt text here](/sfs/qumulo/qhome/zz3hs/git/dspg20oss/src/geographic/output/network.png)

$$\text{Fig 2. City Network}$$

