# Purpose
The ossPy directory of the dspg20oss project contains a number of python code products that were created for the 2020 UVA DSPG OSS project.  Below a description of notable directories and files (and their purpose) will be provided.



## Primary Function Set -- ossPyFuncs.py

One of the central features of the ossPy directory is the function set contained within [ossPyFuncs](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/ossPyFuncs.py).  This function set constitutes a number of methods or algorithms which were implemented during the 2020 UVA DSPG summer program, primarily with the goal of cleaning GitHub users' self-disclosed institutional affiliations as described [here](https://dspg-young-scholars-program.github.io/dspg20oss/methods/) and [here](https://dspg-young-scholars-program.github.io/dspg20oss/findings/business/).  Typically these functions involve modifying pandas [series](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html)/[dataframes](https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.html), or producing outputs derived from these.  Currently, these functions are not robustly cased such that either format (series of dataframe) can be handled, thus it is recommended that users simply try out one variant, and switch to the other if an error occurs.

Additional use note:  the [primary function](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/00e53e6faa2c0e3e6624e880e670ba89f1f287e8/ossPy/ossPyFuncs.py#L9) used to acess the SDAD SQL database presumes the existence of environmental variables ['UVA_uname'](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/ossPyFuncs.py#L25), for user name and ['UVA_pass'](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/ossPyFuncs.py#L26) for user password (NOTE:  this would be the password for the SDAD database, not your UVA account password).


##  Directories of note
### Notebooks

The notebooks directory contains a number of jupyter notebooks which detail a process or method related to the OSS project.  In general, these notebooks describe their purpose and their method of implementation in great detail.  They are not standalone, in that they leverage files from the [keyFies](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/tree/master/ossPy/keyFiles) directory and the [ossPyFuncs](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/ossPyFuncs.py) function set.  Theoretically these are set up in such a way that no path alterations are needed on the part of the user, however given that the ossPyFuncs library is used extensively, there is the presumption that the user has SDAD database environmental variables, as described in the Primary FUnction Set section of this document. 

### keyFiles

Several of the notebooks and/or methods implemented in the ossPy subproject make use of "keyfiles".  These are csv formatted text files which contain "lists" (in the common sense, rather than the python sense) which are pertenent to various applicatons or methods used in this sub project.  By in large (with the exception of [expandAbrevs.csv](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/keyFiles/expandAbrevs.csv)) these are single column structures, which are iterated across row-wise by various cleaning functions (i.e. [eraseFromColumn](https://github.com/DSPG-Young-Scholars-Program/dspg20oss/blob/master/ossPy/ossPyFuncs.py#L97), and in many cases may be formed as explicit regex sequences.

### singleFuncs
This directory contains stand-alone functions.  These are not used or referenced in any other code, and are kept here in the event that an alternate method (to the ossPyFuncs.py file) is developed for serving the ossPyFuncs library.

## Working Directories
### Figures
The figures directory is the standard output directory for the generation and saving of figure outputs from scripts and/or notebooks (if they save their output)

### PackageOuts
Previously, PackageOuts contained a number of intermediary data structures that were generated by notebooks and or scripts, in order to prevent long waits for processing the large data set.  In practice, what would occur is that a process would check the directory for a relevant output and create it if it wasn't there.  This led to some problems where the intermediary outputs ended up being extremely large (i.e. hundreds of thousands of rows, etc).  Moving forward, this directory will still function in a similar way, in that intermediary data objects will be stored here, with functions searching this directory and conditionally generating them if the needed file isn't found.  However, as a matter of best Git practices, this will be an ignored directory (in that the contents will not be pushed to GitHub).  In practice this will mean that users will still need to run the full scripts once locally, but after that the generated files should permit more expidited notebook usage.  Additionaly coding will be necessary to facilitate this.

## Other Directories
### depricated
This directory contains a number of obsolescent code.  These files are kept in the case that some of the code might be reused or repurposed for other applications.

### __pycache__
A directory created by ipython notebooks in order to save checkpoints

### scripts
A number of raw python files (i.e. not notebooks, not containing markdown sections) that are used to develop and test code.  In some cases these are proto functions, while in other cases they are implementations that were necessary in order to explore or manipulate the data.  Generally these are not well documented and it is not expected that general users would get much use out of these files. 

